# Tienda de CafÃ© - CRUD de Suscriptores

Proyecto web para Tienda de CafÃ© con sistema de gestiÃ³n de suscriptores (CRUD completo) usando Express.js y MongoDB.

## ğŸš€ CaracterÃ­sticas

- âœ… Sistema CRUD completo de suscriptores
- âœ… Backend con Express.js
- âœ… Base de datos MongoDB
- âœ… Interfaz responsive
- âœ… Validaciones de datos
- âœ… Notificaciones de usuario

## ğŸ“‹ Requisitos

* Node.js (v14 o superior)
* npm o bun instalado como gestor de paquetes
* git instalado
* **MongoDB instalado y corriendo localmente** (o una URI de MongoDB Atlas)

### Instalar MongoDB localmente

**En Windows:**
1. Descargar desde [mongodb.com/try/download/community](https://www.mongodb.com/try/download/community)
2. Instalar el paquete
3. Iniciar el servicio: `net start MongoDB`

**En Mac:**
```bash
brew tap mongodb/brew
brew install mongodb-community
brew services start mongodb-community
```

**En Linux (Ubuntu/Debian):**
```bash
sudo apt-get install mongodb
sudo systemctl start mongodb
```

## ğŸ“¦ InstalaciÃ³n

### 1. Clonar el repositorio
```bash
git clone https://github.com/MatBenA/incade-tiendacafe.git
cd incade-tiendacafe
```

### 2. Instalar dependencias
```bash
npm install
```

### 3. Configurar variables de entorno

Crear un archivo `.env` en la raÃ­z del proyecto:

```bash
PORT=3000
MONGODB_URI=mongodb://localhost:27017/tiendacafe
```

**Si usas MongoDB Atlas (cloud):**
```bash
MONGODB_URI=mongodb+srv://usuario:contraseÃ±a@cluster.mongodb.net/tiendacafe
```

## ğŸ® EjecuciÃ³n

### OpciÃ³n 1: Ejecutar todo simultÃ¡neamente (Recomendado)
```bash
npm start
```
Esto iniciarÃ¡ tanto el servidor backend (puerto 3000) como el frontend (Vite).

### OpciÃ³n 2: Ejecutar por separado

**Terminal 1 - Backend:**
```bash
npm run server
```

**Terminal 2 - Frontend:**
```bash
npm run dev
```

### Acceder desde mÃ³vil (red local)
```bash
npm run dev -- --host
```

## ğŸŒ URLs de acceso

- **Frontend:** http://localhost:5173
- **Backend API:** http://localhost:3000
- **DocumentaciÃ³n de la API:** Ver endpoints abajo

## ğŸ“¡ Endpoints de la API

### GET /api/subscribers
Obtiene todos los suscriptores.

**Respuesta:**
```json
[
  {
    "_id": "507f1f77bcf86cd799439011",
    "nombre": "Juan PÃ©rez",
    "email": "juan@example.com",
    "fechaSuscripcion": "2024-11-06T10:30:00.000Z"
  }
]
```

### GET /api/subscribers/:id
Obtiene un suscriptor especÃ­fico por ID.

### POST /api/subscribers
Crea un nuevo suscriptor.

**Body:**
```json
{
  "nombre": "Juan PÃ©rez",
  "email": "juan@example.com"
}
```

**Respuesta:**
```json
{
  "message": "Suscriptor creado exitosamente",
  "subscriber": {
    "_id": "507f1f77bcf86cd799439011",
    "nombre": "Juan PÃ©rez",
    "email": "juan@example.com",
    "fechaSuscripcion": "2024-11-06T10:30:00.000Z"
  }
}
```

### PUT /api/subscribers/:id
Actualiza un suscriptor existente.

**Body:**
```json
{
  "nombre": "Juan Carlos PÃ©rez",
  "email": "juanc@example.com"
}
```

### DELETE /api/subscribers/:id
Elimina un suscriptor.

**Respuesta:**
```json
{
  "message": "Suscriptor eliminado exitosamente",
  "subscriber": { ... }
}
```

## ğŸ¨ Funcionalidades del Frontend

1. **Suscribirse:** Completar el formulario con nombre y email
2. **Ver suscriptores:** Lista actualizada debajo del formulario
3. **Editar:** Click en "Editar" para modificar datos
4. **Eliminar:** Click en "Eliminar" con confirmaciÃ³n
5. **Notificaciones:** Mensajes de Ã©xito/error en tiempo real

## ğŸ—‚ï¸ Estructura del proyecto

```
incade-tiendacafe/
â”œâ”€â”€ server.js              # Servidor Express y API REST
â”œâ”€â”€ package.json           # Dependencias del proyecto
â”œâ”€â”€ .env                   # Variables de entorno (crear)
â”œâ”€â”€ .env.example           # Ejemplo de variables de entorno
â”œâ”€â”€ index.html             # HTML principal (actualizado)
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ hamburger.js       # MenÃº hamburguesa
â”‚   â””â”€â”€ subscribers.js     # LÃ³gica del CRUD frontend
â””â”€â”€ styles/
    â”œâ”€â”€ normalize.css
    â”œâ”€â”€ navbar.css
    â”œâ”€â”€ hero.css
    â”œâ”€â”€ products.css
    â”œâ”€â”€ showcase.css
    â”œâ”€â”€ variants.css
    â”œâ”€â”€ action.css
    â”œâ”€â”€ footer.css
    â”œâ”€â”€ hamburger.css
    â””â”€â”€ subscribers.css    # Estilos del CRUD (nuevo)
```

## ğŸ› ï¸ TecnologÃ­as utilizadas

**Frontend:**
- HTML5
- CSS3
- Vanilla JavaScript
- Vite

**Backend:**
- Node.js
- Express.js
- MongoDB
- Mongoose
- CORS
- dotenv

## ğŸ”’ Validaciones

- Email Ãºnico (no permite duplicados)
- Campos nombre y email requeridos
- Formato de email vÃ¡lido
- ConfirmaciÃ³n antes de eliminar

## ğŸ› SoluciÃ³n de problemas

### Error: No se puede conectar a MongoDB
```bash
# Verificar que MongoDB estÃ© corriendo
mongod --version

# En Windows
net start MongoDB

# En Mac/Linux
sudo systemctl status mongodb
```

### Error: Puerto 3000 en uso
Cambiar el puerto en el archivo `.env`:
```
PORT=3001
```

Y actualizar la URL en `scripts/subscribers.js`:
```javascript
const API_URL = 'http://localhost:3001/api/subscribers';
```

### Error: CORS
Verificar que el servidor Express estÃ© usando el middleware CORS correctamente.

## ğŸ“ Notas

- La base de datos se crea automÃ¡ticamente al iniciar el servidor
- Los datos persisten en MongoDB
- Todos los estilos respetan el diseÃ±o original

## ğŸ¤ Contribuir

Las contribuciones son bienvenidas. Por favor, abre un issue o pull request.

## ğŸ“„ Licencia

Este proyecto es de uso educativo.